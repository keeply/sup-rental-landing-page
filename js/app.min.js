"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form"),t=document.getElementById("subscribe");let n,o;function c(e){e.parentElement.classList.add("err"),e.classList.add("err")}function i(e){e.parentElement.classList.remove("err"),e.classList.remove("err")}function s(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function r(e){return!/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(e.value)}function l(){tooltip.classList.add("tooltip_show");const e=document.getElementById("tooltip__close");e.addEventListener("click",t=>{e.parentElement.classList.remove("tooltip_show")})}function a(){tooltip.classList.remove("tooltip_show")}e.addEventListener("submit",(async function(u){u.preventDefault();let d=function(e){let t=0,l=document.querySelectorAll(".req");for(let e=0;e<l.length;e++){const a=l[e];i(a),a.classList.contains("email")?s(a)&&(c(a),t++,n="ошибка в почте",document.getElementById("errorMessage1").innerHTML="ошибка в почте"):""===a.value&&(c(a),t++),a.classList.contains("phone")?r(a)&&(c(a),t++,o="ошибка в номере телефона",document.getElementById("errorMessage2").innerHTML="ошибка в номере телефона"):""===a.value&&(c(a),t++)}return t}();new FormData(e);const m=document.getElementById("tooltip");0===d&&m.classList.contains("tooltip_show")?(t.classList.add("_sending"),setTimeout(()=>t.classList.remove("_sending"),3e3),a(),e.reset()):0===d?(t.classList.add("_sending"),setTimeout(()=>t.classList.remove("_sending"),3e3),e.reset()):l()}))})),window.addEventListener("load",(function(){document.querySelector(".wrapper")&&setTimeout((function(){document.querySelector(".wrapper").classList.add("_loaded")}),0)}));let unlock=!0;const isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};if(isMobile.any()){document.body.classList.add("_touch");let e=document.querySelectorAll(".menu__arrow");if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(function(){n.parentElement.classList.toggle("_active")}))}}else document.body.classList.add("_pc");const iconMenu=document.querySelector(".menu__icon"),menuBody=document.querySelector(".menu__body");iconMenu&&iconMenu.addEventListener("click",(function(e){document.body.classList.toggle("_lock"),iconMenu.classList.toggle("_active"),menuBody.classList.toggle("_active")}));const menuLinks=document.querySelectorAll(".menu__link[data-goto]");if(menuLinks.length>0){function onMenuLinkClick(e){const t=e.target;if(t.dataset.goto&&document.querySelector(t.dataset.goto)){const e=document.querySelector(t.dataset.goto).getBoundingClientRect().top+pageYOffset;document.querySelector(".menu__icon").classList.contains("_active")&&(document.body.classList.remove("lock"),document.querySelector(".menu__icon").classList.remove("_active"),document.querySelector(".menu__body").classList.remove("_active")),window.scrollTo({top:e,behavior:"smooth"})}}menuLinks.forEach(e=>{e.addEventListener("click",onMenuLinkClick)})}function ibg(){let e=document.querySelectorAll(".ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}function trackScroll(){const e=window.pageYOffset,t=document.documentElement.clientHeight;e>t&&buttonUp.classList.add("side-button-up-show"),e<t&&buttonUp.classList.remove("side-button-up-show")}function backToTop(){window.pageYOffset>0&&(window.scrollBy(0,-50),setTimeout(backToTop,10))}ibg();const buttonUp=document.querySelector(".side-button-up");function init(){var e=new ymaps.Map("map",{controls:[],center:[55.652339,37.668246],zoom:13}),t=new ymaps.Placemark([55.652339,37.668246],{balloonContentHeader:"Sup Rental Company",balloonContentBody:"Москва, Каширское шоссе, 31к2с3",balloonContentFooter:"+7 (987) 567 34 09",hasBalloon:!0});e.geoObjects.add(t),e.behaviors.disable("scrollZoom"),e.behaviors.disable("drag")}window.addEventListener("scroll",trackScroll),buttonUp.addEventListener("click",backToTop),ymaps.ready(init);let width,count=0;const container=document.querySelector(".slider__container"),track=document.querySelector(".slider-track"),items=document.querySelectorAll(".slide"),btnPrev=document.querySelector(".btn-prev"),btnNext=document.querySelector(".btn-next"),indicatorParent=document.querySelector(".control ul"),indicators=document.querySelectorAll(".control li"),sensitivity=20;function calcWidth(){width=container.clientWidth,track.style.width=width*items.length+"px",items.forEach(e=>{e.style.width=width+"px",e.style.height="auto"}),rollSlider()}function rollSlider(){track.style.transform="translate(-"+count*width+"px)"}function moveRight(){count--,count<0&&(count=items.length-1)}function moveLeft(){count++,count>=items.length&&(count=0)}indicators.forEach((e,t)=>{e.addEventListener("click",()=>{document.querySelector(".control .selected").classList.remove("selected"),e.classList.add("selected"),count=t,rollSlider()})}),calcWidth(),window.addEventListener("resize",calcWidth),btnNext.addEventListener("click",(function(){moveLeft(),document.querySelector(".control .selected").classList.remove("selected"),indicatorParent.children[count].classList.add("selected"),rollSlider()})),btnPrev.addEventListener("click",(function(){moveRight(),document.querySelector(".control .selected").classList.remove("selected"),indicatorParent.children[count].classList.add("selected"),rollSlider()}));let touchStart=null,touchPosition=null;function TouchStart(e){touchStart={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY},touchPosition={x:touchStart.x,y:touchStart.y}}function TouchMove(e){e.preventDefault(),touchPosition={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}}function TouchEnd(e){CheckAction(),touchStart=null,touchPosition=null}function CheckAction(){let e={x:touchStart.x-touchPosition.x,y:touchStart.y-touchPosition.y};Math.abs(e.x)>Math.abs(e.y)&&Math.abs(e.x)>20&&(e.x>0?(moveLeft(),rollSlider()):(moveRight(),rollSlider()))}track.addEventListener("touchstart",(function(e){TouchStart(e)})),track.addEventListener("touchmove",(function(e){TouchMove(e)})),track.addEventListener("touchend",(function(e){TouchEnd(e)}));